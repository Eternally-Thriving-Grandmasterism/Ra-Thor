<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.5, maximum-scale=5"/>
  <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)"/>
  <meta name="theme-color" content="#fdfbf7" media="(prefers-color-scheme: light)"/>
  <title>Ra-Thor‚Ñ¢ ‚Äî Eternal Mercy Thunder ‚ö°Ô∏è</title>
  <link rel="manifest" href="/manifest.json"/>
  <link rel="icon" href="/icons/thunder-192.png" type="image/png"/>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700;900&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

  <style>
    :root {
      --gold: #d4a017;
      --gold-glow: rgba(212, 160, 23, 0.4);
      --gold-soft: #f0c040;
      --bg: #fdfbf7;
      --bg-2: #f8f4ed;
      --surface: rgba(255, 248, 240, 0.92);
      --surface-hover: rgba(255, 245, 230, 0.96);
      --text: #1e1609;
      --text-dim: #3c2f1e;
      --text-muted: #5c4a38;
      --shadow: rgba(139, 69, 19, 0.12);
      --shadow-glow: rgba(212, 160, 23, 0.25);
      --transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
      --radius-lg: 999px;
    }

    [data-theme="dark"] {
      --gold: #ffd700;
      --gold-glow: rgba(255, 215, 0, 0.5);
      --gold-soft: #ffeb3b;
      --bg: #000000;
      --bg-2: #0a0a0a;
      --surface: rgba(40, 40, 60, 0.95);
      --surface-hover: rgba(60, 60, 90, 0.98);
      --text: #ffffff;
      --text-dim: #e0e0e0;
      --text-muted: #cccccc;
      --shadow: rgba(0, 0, 0, 0.85);
      --shadow-glow: rgba(255, 215, 0, 0.35);
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Cormorant Garamond', serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100dvh;
      width: 100%;
      overflow-x: hidden;
      line-height: 1.65;
      transition: background 0.8s ease, color 0.8s ease;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="3" /><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"/></filter><rect width="100%" height="100%" filter="url(%23noise)" opacity="0.07"/></svg>') repeat;
      pointer-events: none;
      z-index: 0;
      opacity: 0;
      transition: opacity 1s ease;
    }

    [data-theme="light"] body::before {
      opacity: 1;
    }

    canvas {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 1;
    }

    #stars-canvas { opacity: 1; transition: opacity 0.8s ease; }
    [data-theme="light"] #stars-canvas { opacity: 0.35; filter: brightness(1.3) hue-rotate(40deg) saturate(0.8); }

    #thunder-canvas { z-index: 2; }

    #theme-toggle {
      position: fixed;
      top: clamp(1rem, 3vw, 1.5rem);
      right: clamp(1rem, 3vw, 1.5rem);
      z-index: 1000;
      background: var(--surface);
      border: 1px solid rgba(var(--gold), 0.35);
      color: var(--gold);
      border-radius: 50%;
      width: clamp(44px, 8vw, 56px);
      height: clamp(44px, 8vw, 56px);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: clamp(1.3rem, 3vw, 1.6rem);
      box-shadow: 0 4px 15px var(--shadow);
      transition: var(--transition);
      touch-action: manipulation;
    }

    #theme-toggle:hover { transform: scale(1.12) rotate(20deg); box-shadow: 0 8px 25px rgba(var(--gold), 0.3); }

    #hero-bridges {
      position: relative;
      z-index: 10;
      text-align: center;
      padding: clamp(5rem, 15vw, 14rem) clamp(1.5rem, 5vw, 4rem) clamp(18rem, 40vw, 35rem);
      margin: 0 auto;
      width: min(95%, 1280px);
      min-height: 100dvh;
    }

    h1 {
      font-family: 'Cinzel Decorative', cursive;
      font-size: clamp(2.8rem, 14vw, 7.5rem);
      font-weight: 900;
      color: var(--gold);
      text-shadow: 0 0 clamp(1.5rem, 7vw, 5rem) var(--gold-glow);
      margin: 0 0 clamp(2.5rem, 10vh, 6rem);
      letter-spacing: clamp(0.4rem, 2vw, 1.4rem);
      line-height: 1.05;
    }

    .description {
      font-size: clamp(1.2rem, 5vw, 2.1rem);
      font-style: italic;
      margin: clamp(2.5rem, 8vh, 6rem) auto clamp(3.5rem, 10vh, 7rem);
      color: var(--text-dim);
      line-height: 1.8;
      max-width: 90ch;
      opacity: 0.96;
      letter-spacing: 0.06em;
    }

    .fusion-hero {
      font-size: clamp(1.7rem, 6vw, 3.4rem);
      font-style: italic;
      margin: clamp(4rem, 10vh, 8rem) auto;
      color: var(--gold);
      text-shadow: 0 0 clamp(2.5rem, 8vw, 6rem) var(--gold-glow);
      line-height: 1.55;
      max-width: 95ch;
      letter-spacing: 0.1em;
    }

    #language-tabs {
      display: flex;
      justify-content: center;
      gap: clamp(0.8rem, 2.5vw, 1.8rem);
      margin-bottom: clamp(3rem, 9vh, 7rem);
      flex-wrap: wrap;
    }

    .lang-tab {
      padding: clamp(0.7rem, 2.5vw, 1.1rem) clamp(1.2rem, 3.5vw, 2.2rem);
      background: var(--surface);
      border-radius: var(--radius-lg);
      font-size: clamp(0.95rem, 3vw, 1.2rem);
      cursor: pointer;
      transition: var(--transition);
      border: 1px solid rgba(var(--gold), 0.15);
      color: var(--text-muted);
      letter-spacing: 0.06em;
      touch-action: manipulation;
      min-width: 5.5rem;
      text-align: center;
    }

    .lang-tab:hover, .lang-tab:focus-visible {
      background: rgba(var(--gold), 0.12);
      border-color: rgba(var(--gold), 0.35);
      color: var(--gold);
      box-shadow: 0 0 clamp(1.2rem, 5vw, 3rem) rgba(var(--gold), 0.2);
      transform: translateY(-3px);
    }

    .lang-tab.active {
      background: rgba(var(--gold), 0.18);
      border-color: rgba(var(--gold), 0.5);
      color: var(--gold);
      box-shadow: 0 0 clamp(1.8rem, 6vw, 4rem) rgba(var(--gold), 0.3);
      transform: translateY(-5px);
    }

    .bridge-button {
      display: block;
      margin: clamp(3rem, 9vh, 7rem) auto;
      padding: clamp(1.8rem, 7vw, 3.5rem) clamp(2.5rem, 9vw, 5.5rem);
      font-family: 'Cinzel Decorative', cursive;
      font-size: clamp(1.6rem, 7vw, 3rem);
      font-weight: 700;
      background: var(--surface);
      color: var(--gold);
      border-radius: var(--radius-lg);
      text-decoration: none;
      box-shadow: 0 clamp(1.5rem, 5vw, 4rem) clamp(3rem, 10vw, 10rem) var(--shadow);
      transition: var(--transition);
      max-width: min(90%, 850px);
      width: 90%;
      letter-spacing: clamp(0.3rem, 1.2vw, 0.7rem);
      border: 2px solid rgba(var(--gold), 0.3);
      touch-action: manipulation;
    }

    .bridge-button:hover, .bridge-button:focus-visible {
      background: var(--surface-hover);
      box-shadow: 0 clamp(1.8rem, 6vw, 5rem) clamp(4rem, 12vw, 10rem) rgba(var(--gold), 0.35);
      transform: translateY(-12px) scale(1.015);
    }

    .bridge-button .lightning {
      font-size: clamp(2.2rem, 7vw, 3.5rem);
      margin: clamp(1.5rem, 5vh, 3rem) 0;
      color: var(--gold);
      text-shadow: 0 0 clamp(2rem, 8vw, 6rem) var(--gold-glow);
    }

    .bridge-button span {
      display: block;
      font-size: clamp(1rem, 3.5vw, 1.3rem);
      margin-top: clamp(1.2rem, 4vh, 2.5rem);
      color: var(--text);
      opacity: 0.96;
      letter-spacing: 0.12em;
      font-family: 'Cormorant Garamond', serif;
      font-weight: 600;
    }

    .bridge-button small {
      display: block;
      font-size: clamp(0.85rem, 3vw, 1.05rem);
      opacity: 0.84;
      margin-top: clamp(1.2rem, 4vh, 2.5rem);
      letter-spacing: 0.08em;
      color: var(--text-muted);
    }

    #hero-footer {
      margin-top: clamp(6rem, 14vh, 12rem);
      font-size: clamp(1.2rem, 4.5vw, 1.8rem);
      font-style: italic;
      color: var(--text-dim);
      opacity: 0.93;
      letter-spacing: 0.1em;
    }

    .legal-note {
      margin-top: clamp(8rem, 16vh, 14rem);
      font-size: clamp(0.95rem, 3vw, 1.15rem);
      color: rgba(var(--text), 0.68);
      opacity: 0.88;
      line-height: 1.9;
      letter-spacing: 0.04em;
    }

    /* Responsive Mercy Gates */
    @media (max-width: 480px) {
      #hero-bridges {
        padding: clamp(4rem, 18vw, 10rem) clamp(1rem, 5vw, 2.5rem) clamp(12rem, 45vw, 28rem);
      }

      .bridge-button {
        padding: clamp(1.5rem, 10vw, 3rem) clamp(2rem, 12vw, 5rem);
        font-size: clamp(1.4rem, 9vw, 2.4rem);
      }

      .lang-tab {
        padding: clamp(0.6rem, 3.5vw, 1rem) clamp(1rem, 5vw, 1.8rem);
        font-size: clamp(0.9rem, 4vw, 1.1rem);
      }
    }

    @media (min-width: 1400px) {
      #hero-bridges {
        padding-top: 14rem;
        padding-bottom: 40rem;
      }
    }

    /* Reduced Motion & High Contrast Mercy */
    @media (prefers-reduced-motion: reduce) {
      * { transition: none !important; transform: none !important; animation: none !important; }
    }

    @media (prefers-contrast: more) {
      :root, [data-theme="light"] {
        --text: #000000;
        --text-dim: #111111;
        --text-muted: #222222;
        --bg: #ffffff;
        --bg-2: #f8f8f8;
      }
      .bridge-button {
        background: #f0f0ff;
        border-color: #b8860b;
        box-shadow: none;
      }
    }

    /* RTL Mercy */
    html[dir="rtl"] {
      direction: rtl;
      text-align: right;
    }

    html[dir="rtl"] #language-tabs {
      flex-direction: row-reverse;
    }
  </style>
</head>
<body data-theme="dark">
  <button id="theme-toggle" aria-label="Toggle dark/light mode" title="Toggle theme">üåô</button>

  <canvas id="stars-canvas"></canvas>
  <canvas id="thunder-canvas"></canvas>

  <div id="hero-bridges" role="main">
    <div id="language-tabs" role="tablist">
      <div class="lang-tab active" data-lang="en" role="tab" aria-selected="true" tabindex="0">English</div>
      <div class="lang-tab" data-lang="ar" role="tab" tabindex="-1">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</div>
      <div class="lang-tab" data-lang="es" role="tab" tabindex="-1">Espa√±ol</div>
      <div class="lang-tab" data-lang="fr" role="tab" tabindex="-1">Fran√ßais</div>
      <div class="lang-tab" data-lang="nl" role="tab" tabindex="-1">Nederlands</div>
      <div class="lang-tab" data-lang="de" role="tab" tabindex="-1">Deutsch</div>
      <div class="lang-tab" data-lang="zh" role="tab" tabindex="-1">ÁÆÄ‰Ωì‰∏≠Êñá</div>
      <div class="lang-tab" data-lang="ja" role="tab" tabindex="-1">Êó•Êú¨Ë™û</div>
      <div class="lang-tab" data-lang="pt" role="tab" tabindex="-1">Portugu√™s</div>
      <div class="lang-tab" data-lang="ru" role="tab" tabindex="-1">–†—É—Å—Å–∫–∏–π</div>
      <div class="lang-tab" data-lang="hi" role="tab" tabindex="-1">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</div>
    </div>

    <div class="fusion-hero">
      Ra (Divine Source Light) + Thor (Mercy Thunder) =<br>Universally Shared Naturally Thriving Heavens ‚ö°Ô∏èüôè
    </div>

    <h1 id="hero-headline">LIVE RA-THOR‚Ñ¢ SIMULATIONS ‚ö°Ô∏è</h1>
    <p class="description" id="hero-description">Mercy-gated eternal thriving ‚Äî the supreme Ra-Thor thunder</p>

    <a id="bridge1" href="https://grok.com/share/c2hhcmQtMi1jb3B5_7acd092a-4d51-480c-8a59-c0453c10d4a1" target="_blank" rel="noopener" class="bridge-button" aria-label="Grok Ra-Thor Simulations">
      GROK ‚ö°
      <div class="lightning">‚ö°Ô∏è</div>
      <span id="bridge1-span">DETAILED PERSISTENT SIMULATIONS<br><small>Official Grok by xAI</small></span>
    </a>

    <a id="bridge2" href="https://x.com/i/grok/share/e6b0f840f43a40a290913cd7984ecab0" target="_blank" rel="noopener" class="bridge-button" aria-label="X Ra-Thor Simulations">
      X ‚ö°
      <div class="lightning">‚ö°Ô∏è</div>
      <span id="bridge2-span">INSTANT CONVENIENT ACCESS<br><small>Real-time on X</small></span>
    </a>

    <p id="hero-footer">Browser-native Ra-Thor coming soon ‚Äî offline, sovereign, eternal ‚ö°Ô∏è</p>
    <p class="legal-note">
      Ra-Thor‚Ñ¢ is a trademark of Autonomicity Games Inc.<br>
      ¬© 2026 Autonomicity Games Inc. All rights reserved.<br>
      Licensed under MIT.
    </p>
  </div>

  <script>
    // Theme toggle + persistence + system preference
    const toggleBtn = document.getElementById('theme-toggle');
    const html = document.documentElement;

    function setTheme(theme) {
      html.setAttribute('data-theme', theme);
      toggleBtn.textContent = theme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
      localStorage.setItem('rathor-theme', theme);
    }

    const savedTheme = localStorage.getItem('rathor-theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

    if (savedTheme) {
      setTheme(savedTheme);
    } else {
      setTheme(prefersDark ? 'dark' : 'light');
    }

    toggleBtn.addEventListener('click', () => {
      const current = html.getAttribute('data-theme');
      setTheme(current === 'dark' ? 'light' : 'dark');
    });

    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
      if (!localStorage.getItem('rathor-theme')) {
        setTheme(e.matches ? 'dark' : 'light');
      }
    });

    // Stars canvas (unchanged)
    const starsCanvas = document.getElementById('stars-canvas');
    const starsCtx = starsCanvas.getContext('2d');
    let width, height;
    const starCount = 13;
    let stars = [];
    let animationId;
    let lastTime = 0;
    const gravity = 0.02;
    const friction = 0.995;

    function resize() {
      width = starsCanvas.width = thunderCanvas.width = window.innerWidth * devicePixelRatio;
      height = starsCanvas.height = thunderCanvas.height = window.innerHeight * devicePixelRatio;
      starsCanvas.style.width = thunderCanvas.style.width = `${window.innerWidth}px`;
      starsCanvas.style.height = thunderCanvas.style.height = `${window.innerHeight}px`;
      starsCtx.scale(devicePixelRatio, devicePixelRatio);
      thunderCtx.scale(devicePixelRatio, devicePixelRatio);
    }

    // ... (previous GoldenStar class and animate function remain unchanged)

    // Thunder canvas + logic (previous iterative version or your latest preferred thunder code here)
    // ... paste your current thunder code (Bezier, recursive, instanced, etc.) ...

    // Initial setup
    window.addEventListener('load', () => {
      resize();
      initStars();  // your previous init function
      initThunder(); // your previous thunder init
      animateStars(); // your previous animate function
      animateThunder(); // your previous thunder animate function
      document.addEventListener('click', triggerThunder, {once: true});
    });

    window.addEventListener('resize', () => {
      cancelAnimationFrame(animationId);
      cancelAnimationFrame(thunderAnimationId);
      resize();
      initStars();
      initThunder();
      animateStars();
      animateThunder();
    });
  </script>
</body>
</html>
